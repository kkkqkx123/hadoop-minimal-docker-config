root@kkkqkx:/home/docker-compose/hadoop-minimal# docker-compose up -d
WARN[0001] /home/docker-compose/hadoop-minimal/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion
#1 [internal] load local bake definitions
#1 reading from stdin 1.45kB 0.1s done
#1 DONE 0.1s

#2 [master internal] load build definition from Dockerfile
#2 transferring dockerfile:
#2 transferring dockerfile: 2.08kB 0.0s done
#2 DONE 4.5s

#3 [worker2 internal] load metadata for docker.io/library/openjdk:11-slim
#3 DONE 9.4s

#4 [master internal] load .dockerignore
#4 transferring context:
#4 transferring context: 2B done
#4 DONE 4.2s

#5 [master internal] load build context
#5 DONE 0.0s

#6 [master  1/13] FROM docker.io/library/openjdk:11-slim@sha256:868a4f2151d38ba6a09870cec584346a5edc8e9b71fde275eb2e0625273e2fd8
#6 resolve docker.io/library/openjdk:11-slim@sha256:868a4f2151d38ba6a09870cec584346a5edc8e9b71fde275eb2e0625273e2fd8
#6 resolve docker.io/library/openjdk:11-slim@sha256:868a4f2151d38ba6a09870cec584346a5edc8e9b71fde275eb2e0625273e2fd8 6.1s done
#6 resolve docker.io/library/openjdk:11-slim@sha256:868a4f2151d38ba6a09870cec584346a5edc8e9b71fde275eb2e0625273e2fd8 6.1s done
#6 DONE 8.1s

#5 [worker1 internal] load build context
#5 transferring context: 317B done
#5 DONE 0.0s

#7 [worker2  7/13] COPY conf/hdfs-site.xml /opt/hadoop/etc/hadoop/hdfs-site.xml
#7 CACHED

#8 [worker2  5/13] RUN mkdir -p /var/run/sshd /root/.ssh &&     ssh-keygen -t rsa -N "" -f /root/.ssh/id_rsa &&     cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys &&     chmod 600 /root/.ssh/authorized_keys &&     printf "Host *\n  StrictHostKeyChecking no\n  UserKnownHostsFile=/dev/null\n" > /root/.ssh/config &&     sed -ri 's/#?PermitRootLogin .*/PermitRootLogin prohibit-password/g' /etc/ssh/sshd_config &&     sed -ri 's/#?PasswordAuthentication .*/PasswordAuthentication no/g' /etc/ssh/sshd_config
#8 CACHED

#9 [worker2  2/13] RUN apt-get update &&     DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends       openssh-server rsync curl ca-certificates procps python3 &&     rm -rf /var/lib/apt/lists/*
#9 CACHED

#10 [worker2  3/13] RUN curl -fsSL https://downloads.apache.org/hadoop/common/hadoop-3.3.6/hadoop-3.3.6.tar.gz      -o /tmp/hadoop.tgz &&     mkdir -p /opt &&     tar -xzf /tmp/hadoop.tgz -C /opt &&     mv /opt/hadoop-3.3.6 /opt/hadoop &&     rm /tmp/hadoop.tgz
#10 CACHED

#11 [worker2  4/13] RUN mkdir -p /hadoop/dfs/namenode /hadoop/dfs/datanode /tmp/hadoop-yarn &&     mkdir -p /opt/hadoop/logs
#11 CACHED

#12 [worker2  9/13] COPY conf/mapred-site.xml /opt/hadoop/etc/hadoop/mapred-site.xml
#12 CACHED

#13 [worker2 10/13] COPY conf/hadoop-env.sh /opt/hadoop/etc/hadoop/hadoop-env.sh
#13 CACHED

#14 [worker2  6/13] COPY conf/core-site.xml /opt/hadoop/etc/hadoop/core-site.xml
#14 CACHED

#15 [worker2  8/13] COPY conf/yarn-site.xml /opt/hadoop/etc/hadoop/yarn-site.xml
#15 CACHED

#16 [worker2 11/13] COPY conf/workers /opt/hadoop/etc/hadoop/workers
#16 CACHED

#17 [worker2 12/13] COPY scripts/entrypoint.sh /usr/local/bin/entrypoint.sh
#17 CACHED

#18 [worker2 13/13] RUN chmod +x /usr/local/bin/entrypoint.sh
#18 CACHED

#8 [master  5/13] RUN mkdir -p /var/run/sshd /root/.ssh &&     ssh-keygen -t rsa -N "" -f /root/.ssh/id_rsa &&     cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys &&     chmod 600 /root/.ssh/authorized_keys &&     printf "Host *\n  StrictHostKeyChecking no\n  UserKnownHostsFile=/dev/null\n" > /root/.ssh/config &&     sed -ri 's/#?PermitRootLogin .*/PermitRootLogin prohibit-password/g' /etc/ssh/sshd_config &&     sed -ri 's/#?PasswordAuthentication .*/PasswordAuthentication no/g' /etc/ssh/sshd_config
#8 CACHED

#12 [master  9/13] COPY conf/mapred-site.xml /opt/hadoop/etc/hadoop/mapred-site.xml
#12 CACHED

#9 [master  2/13] RUN apt-get update &&     DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends       openssh-server rsync curl ca-certificates procps python3 &&     rm -rf /var/lib/apt/lists/*
#9 CACHED

#14 [master  6/13] COPY conf/core-site.xml /opt/hadoop/etc/hadoop/core-site.xml
#14 CACHED

#13 [master 10/13] COPY conf/hadoop-env.sh /opt/hadoop/etc/hadoop/hadoop-env.sh
#13 CACHED

#7 [master  7/13] COPY conf/hdfs-site.xml /opt/hadoop/etc/hadoop/hdfs-site.xml
#7 CACHED

#15 [master  8/13] COPY conf/yarn-site.xml /opt/hadoop/etc/hadoop/yarn-site.xml
#15 CACHED

#10 [master  3/13] RUN curl -fsSL https://downloads.apache.org/hadoop/common/hadoop-3.3.6/hadoop-3.3.6.tar.gz      -o /tmp/hadoop.tgz &&     mkdir -p /opt &&     tar -xzf /tmp/hadoop.tgz -C /opt &&     mv /opt/hadoop-3.3.6 /opt/hadoop &&     rm /tmp/hadoop.tgz
#10 CACHED

#17 [master 12/13] COPY scripts/entrypoint.sh /usr/local/bin/entrypoint.sh
#17 CACHED

#11 [master  4/13] RUN mkdir -p /hadoop/dfs/namenode /hadoop/dfs/datanode /tmp/hadoop-yarn &&     mkdir -p /opt/hadoop/logs
#11 CACHED

#16 [master 11/13] COPY conf/workers /opt/hadoop/etc/hadoop/workers
#16 CACHED

#19 [worker1] exporting to image
#19 exporting layers 0.0s done
#19 exporting manifest sha256:9dce460031581090c64edc397203b026ab895957430d633b426f9b4da5427b3d 0.1s done
#19 exporting config sha256:d1b84682ecaa77136dddda753df65ccf2be91436aafd5088a49b4fdf1879d5af
#19 exporting config sha256:d1b84682ecaa77136dddda753df65ccf2be91436aafd5088a49b4fdf1879d5af 0.2s done
#19 exporting attestation manifest sha256:8f323a1a1ea6fc319586847478aba29b674a040c5c191208163971253bf01c66
#19 exporting attestation manifest sha256:8f323a1a1ea6fc319586847478aba29b674a040c5c191208163971253bf01c66 0.3s done
#19 exporting manifest list sha256:851d9bdff4b85870b3db18d3e93a777df481504173c64d418c43bd8e0c229c29
#19 exporting manifest list sha256:851d9bdff4b85870b3db18d3e93a777df481504173c64d418c43bd8e0c229c29 0.2s done
#19 naming to docker.io/library/hadoop-minimal-worker1:latest
#19 naming to docker.io/library/hadoop-minimal-worker1:latest 0.0s done
#19 unpacking to docker.io/library/hadoop-minimal-worker1:latest 0.0s done
#19 DONE 1.2s

#20 [master] exporting to image
#20 exporting layers 0.0s done
#20 exporting manifest sha256:5f31afcc571b10d33cf5e25308f89b9ae26293e02d7f824f7d6364f2424262c4 0.2s done
#20 exporting config sha256:0d6f6ecbe442acc334fe94bfe9471a2db11cba3407baf05cc5472d9ff90538db 0.1s done
#20 exporting attestation manifest sha256:b3c27cf700ac1b6ded93bb4297c14f68b1271209f0088046b64159b0d04ecc56 0.3s done
#20 exporting manifest list sha256:4a4180ab7b377c0b194aa2fcef1f718dac35b3bd9beb0293f51aec49f168ba8a 0.2s done
#20 naming to docker.io/library/hadoop-minimal-master:latest 0.0s done
#20 unpacking to docker.io/library/hadoop-minimal-master:latest 0.0s done
#20 DONE 1.2s

#21 [worker2] exporting to image
#21 exporting layers 0.0s done
#21 exporting manifest sha256:b25a3ecf2e83e575ea8c2ff750f8c8324a91633d150e469fb5245a408f6556b7 0.2s done
#21 exporting config sha256:208b9c87488d7bdc762c7bb6e78eb2cf0dbd92494c20c46a2500a8d00f07ad9f 0.2s done
#21 exporting attestation manifest sha256:76e776e52498d05bc01cf74dc7c04f1b39760c21c82d2157f4e96945cc5a4681 0.3s done
#21 exporting manifest list sha256:e00c1e0c055091695db46810292dd6bc04b796930dcf8822608f353e85606635 0.2s done
#21 naming to docker.io/library/hadoop-minimal-worker2:latest 0.0s done
#21 unpacking to docker.io/library/hadoop-minimal-worker2:latest 0.0s done
#21 DONE 1.2s

#22 [worker1] resolving provenance for metadata file
#22 DONE 0.3s

#23 [master] resolving provenance for metadata file
#23 DONE 0.2s

#24 [worker2] resolving provenance for metadata file
#24 DONE 0.0s
[+] Running 11/11
 ✔ hadoop-minimal-worker2             Built                                                                0.0s
 ✔ hadoop-minimal-worker1             Built                                                                0.0s
 ✔ hadoop-minimal-master              Built                                                                0.0s
 ✔ Network hadoop-minimal_hadoop      Created                                                              0.4s
 ✔ Volume "hadoop-minimal_yarnlogs"   Created                                                              0.0s
 ✔ Volume "hadoop-minimal_datanode1"  Created                                                              0.0s
 ✔ Volume "hadoop-minimal_datanode2"  Created                                                              0.0s
 ✔ Volume "hadoop-minimal_namenode"   Created                                                              0.0s
 ✔ Container worker2                  Started                                                              2.3s
 ✔ Container worker1                  Started                                                              2.8s
 ✔ Container master                   Started                                                              4.3s