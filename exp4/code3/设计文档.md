# 任务3设计文档：识别"高曝光低加购"商品

## 任务描述
找出那些被大量用户点击但极少被加入购物车的商品，用于诊断商品详情页、价格、库存或主图等问题。

## 数据格式
输入数据格式：(user_id, item_id, behavior, timestamp)
- user_id: 用户ID（整数）
- item_id: 商品ID（整数）
- behavior: 行为类型（"click", "cart", "buy"）
- timestamp: 时间戳（毫秒级整数）

## 设计思路

### 1. 数据预处理
- 过滤出所有click和cart行为的数据
- 将数据映射为item_id为key，behavior为value的格式

### 2. 商品指标计算
对每个商品item_id，计算：
- 总点击次数（click_count）
- 总加购次数（cart_count）
- 加购转化率 = cart_count / click_count

### 3. 筛选条件
- MIN_CLICKS = 10：至少被点击10次
- MAX_CART_RATE = 0.2：加购转化率 ≤ 20%

### 4. RDD算子使用策略
- `filter()`: 筛选click和cart行为
- `map()`: 转换数据格式
- `reduceByKey()`: 按商品聚合统计
- `join()`: 连接点击和加购数据
- `filter()`: 应用筛选条件

### 5. 输出格式
(item_id, click_count, cart_count, cart_conversion_rate)
其中cart_conversion_rate保留2位小数

## 实现步骤
1. 读取输入数据
2. 分别统计每个商品的点击次数和加购次数
3. 计算加购转化率
4. 应用筛选条件（点击≥10次且转化率≤20%）
5. 格式化输出结果

## 业务价值
这个分析可以帮助电商平台：
- 识别需要优化的商品页面
- 发现价格或库存问题
- 优化商品展示策略
- 提高用户购买转化率